{"ast":null,"code":"import _slicedToArray from \"/home/kelvin/Desktop/KelvinPichinini.github.io/kelvin-portifolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/home/kelvin/Desktop/KelvinPichinini.github.io/kelvin-portifolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { backupMethod, checkBehavior, elementScrollXY, failedExecute, failedExecuteInvalidEnumValue, isObject, scrollingElement } from \"./common.js\";\nimport { now, step } from \"./scroll-step.js\"; // https://drafts.csswg.org/cssom-view/#normalize-non-finite-values\n\nvar nonFinite = function nonFinite(value) {\n  if (!isFinite(value)) {\n    return 0;\n  }\n\n  return Number(value);\n};\n\nvar isConnected = function isConnected(node) {\n  var _node$isConnected;\n\n  return (_node$isConnected = node.isConnected) !== null && _node$isConnected !== void 0 ? _node$isConnected : !node.ownerDocument || // eslint-disable-next-line no-bitwise\n  !(node.ownerDocument.compareDocumentPosition(node) &\n  /** DOCUMENT_POSITION_DISCONNECTED */\n  1);\n};\n\nvar scrollWithOptions = function scrollWithOptions(element, options, config) {\n  var _options$left, _options$top;\n\n  if (!isConnected(element)) {\n    return;\n  }\n\n  var startX = element.scrollLeft;\n  var startY = element.scrollTop;\n  var targetX = nonFinite((_options$left = options.left) !== null && _options$left !== void 0 ? _options$left : startX);\n  var targetY = nonFinite((_options$top = options.top) !== null && _options$top !== void 0 ? _options$top : startY);\n\n  if (targetX === startX && targetY === startY) {\n    return;\n  }\n\n  var fallback = backupMethod(HTMLElement.prototype, \"scroll\", elementScrollXY);\n  var method = backupMethod(Object.getPrototypeOf(element), \"scroll\", fallback).bind(element);\n\n  if (options.behavior !== \"smooth\") {\n    method(targetX, targetY);\n    return;\n  }\n\n  var removeEventListener = function removeEventListener() {\n    window.removeEventListener(\"wheel\", cancelScroll);\n    window.removeEventListener(\"touchmove\", cancelScroll);\n  };\n\n  var context = _objectSpread(_objectSpread({}, config), {}, {\n    timeStamp: now(),\n    startX: startX,\n    startY: startY,\n    targetX: targetX,\n    targetY: targetY,\n    rafId: 0,\n    method: method,\n    callback: removeEventListener\n  });\n\n  var cancelScroll = function cancelScroll() {\n    window.cancelAnimationFrame(context.rafId);\n    removeEventListener();\n  };\n\n  window.addEventListener(\"wheel\", cancelScroll, {\n    passive: true,\n    once: true\n  });\n  window.addEventListener(\"touchmove\", cancelScroll, {\n    passive: true,\n    once: true\n  });\n  step(context);\n};\n\nvar isWindow = function isWindow(obj) {\n  return obj.window === obj;\n};\n\nvar createScroll = function createScroll(scrollName) {\n  return function (target, scrollOptions, config) {\n    var _ref = isWindow(target) ? [scrollingElement(target.document.documentElement), \"Window\"] : [target, \"Element\"],\n        _ref2 = _slicedToArray(_ref, 2),\n        element = _ref2[0],\n        scrollType = _ref2[1];\n\n    var options = scrollOptions !== null && scrollOptions !== void 0 ? scrollOptions : {};\n\n    if (!isObject(options)) {\n      throw new TypeError(failedExecute(scrollName, scrollType));\n    }\n\n    if (!checkBehavior(options.behavior)) {\n      throw new TypeError(failedExecuteInvalidEnumValue(scrollName, scrollType, options.behavior));\n    }\n\n    if (scrollName === \"scrollBy\") {\n      options.left = nonFinite(options.left) + element.scrollLeft;\n      options.top = nonFinite(options.top) + element.scrollTop;\n    }\n\n    scrollWithOptions(element, options, config);\n  };\n};\n\nexport var scroll = /* #__PURE__ */createScroll(\"scroll\");\nexport var scrollTo = /* #__PURE__ */createScroll(\"scrollTo\");\nexport var scrollBy = /* #__PURE__ */createScroll(\"scrollBy\");\nexport var elementScroll = scroll;\nexport var elementScrollTo = scrollTo;\nexport var elementScrollBy = scrollBy;\nexport var windowScroll = scroll;\nexport var windowScrollTo = scrollTo;\nexport var windowScrollBy = scrollBy;","map":{"version":3,"sources":["/home/kelvin/Desktop/KelvinPichinini.github.io/kelvin-portifolio/node_modules/seamless-scroll-polyfill/src/scroll.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n    backupMethod,\n    checkBehavior,\n    elementScrollXY,\n    failedExecute,\n    failedExecuteInvalidEnumValue,\n    isObject,\n    scrollingElement,\n} from \"./common.js\";\nimport type { IContext, IScrollConfig } from \"./scroll-step\";\nimport { now, step } from \"./scroll-step.js\";\n\n// https://drafts.csswg.org/cssom-view/#normalize-non-finite-values\nconst nonFinite = (value: unknown): number => {\n    if (!isFinite(value as number)) {\n        return 0;\n    }\n    return Number(value);\n};\n\nconst isConnected = (node: Node) => {\n    return (\n        node.isConnected ??\n        (!node.ownerDocument ||\n            // eslint-disable-next-line no-bitwise\n            !(node.ownerDocument.compareDocumentPosition(node) & /** DOCUMENT_POSITION_DISCONNECTED */ 1))\n    );\n};\n\nconst scrollWithOptions = (element: Element, options: Readonly<ScrollToOptions>, config?: IScrollConfig): void => {\n    if (!isConnected(element)) {\n        return;\n    }\n\n    const startX = element.scrollLeft;\n    const startY = element.scrollTop;\n\n    const targetX = nonFinite(options.left ?? startX);\n    const targetY = nonFinite(options.top ?? startY);\n\n    if (targetX === startX && targetY === startY) {\n        return;\n    }\n\n    const fallback = backupMethod(HTMLElement.prototype, \"scroll\", elementScrollXY);\n    const method = backupMethod(Object.getPrototypeOf(element) as Element, \"scroll\", fallback).bind(element);\n\n    if (options.behavior !== \"smooth\") {\n        method(targetX, targetY);\n        return;\n    }\n\n    const removeEventListener = () => {\n        window.removeEventListener(\"wheel\", cancelScroll);\n        window.removeEventListener(\"touchmove\", cancelScroll);\n    };\n\n    const context: IContext = {\n        ...config,\n        timeStamp: now(),\n        startX,\n        startY,\n        targetX,\n        targetY,\n        rafId: 0,\n        method,\n        callback: removeEventListener,\n    };\n\n    const cancelScroll = () => {\n        window.cancelAnimationFrame(context.rafId);\n        removeEventListener();\n    };\n\n    window.addEventListener(\"wheel\", cancelScroll, {\n        passive: true,\n        once: true,\n    });\n    window.addEventListener(\"touchmove\", cancelScroll, {\n        passive: true,\n        once: true,\n    });\n\n    step(context);\n};\n\nconst isWindow = (obj: unknown): obj is Window => (obj as Window).window === obj;\n\ninterface ScrollMethod<T extends Element | typeof window> {\n    (target: T, scrollOptions?: ScrollToOptions, config?: IScrollConfig): void;\n}\n\nconst createScroll =\n    <T extends Element | typeof window>(scrollName: \"scroll\" | \"scrollTo\" | \"scrollBy\"): ScrollMethod<T> =>\n    (target, scrollOptions, config): void => {\n        const [element, scrollType]: [Element, \"Window\" | \"Element\"] = isWindow(target)\n            ? [scrollingElement(target.document.documentElement), \"Window\"]\n            : [target, \"Element\"];\n\n        const options = scrollOptions ?? {};\n\n        if (!isObject(options)) {\n            throw new TypeError(failedExecute(scrollName, scrollType));\n        }\n\n        if (!checkBehavior(options.behavior)) {\n            throw new TypeError(failedExecuteInvalidEnumValue(scrollName, scrollType, options.behavior));\n        }\n\n        if (scrollName === \"scrollBy\") {\n            options.left = nonFinite(options.left) + element.scrollLeft;\n            options.top = nonFinite(options.top) + element.scrollTop;\n        }\n\n        scrollWithOptions(element, options, config);\n    };\n\nexport const scroll = /* #__PURE__ */ createScroll(\"scroll\");\nexport const scrollTo = /* #__PURE__ */ createScroll(\"scrollTo\");\nexport const scrollBy = /* #__PURE__ */ createScroll(\"scrollBy\");\n\nexport const elementScroll = scroll as ScrollMethod<Element>;\nexport const elementScrollTo = scrollTo as ScrollMethod<Element>;\nexport const elementScrollBy = scrollBy as ScrollMethod<Element>;\n\nexport const windowScroll = scroll as ScrollMethod<typeof window>;\nexport const windowScrollTo = scrollTo as ScrollMethod<typeof window>;\nexport const windowScrollBy = scrollBy as ScrollMethod<typeof window>;\n"]},"metadata":{},"sourceType":"module"}