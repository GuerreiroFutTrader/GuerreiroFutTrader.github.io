{"ast":null,"code":"import { backupMethod, checkBehavior, elementScrollXY, failedExecute, failedExecuteInvalidEnumValue, isObject, scrollingElement } from \"./common.js\";\nimport { now, step } from \"./scroll-step.js\"; // https://drafts.csswg.org/cssom-view/#normalize-non-finite-values\n\nconst nonFinite = value => {\n  if (!isFinite(value)) {\n    return 0;\n  }\n\n  return Number(value);\n};\n\nconst isConnected = node => {\n  return node.isConnected ?? (!node.ownerDocument || // eslint-disable-next-line no-bitwise\n  !(node.ownerDocument.compareDocumentPosition(node) &\n  /** DOCUMENT_POSITION_DISCONNECTED */\n  1));\n};\n\nconst scrollWithOptions = (element, options, config) => {\n  if (!isConnected(element)) {\n    return;\n  }\n\n  const startX = element.scrollLeft;\n  const startY = element.scrollTop;\n  const targetX = nonFinite(options.left ?? startX);\n  const targetY = nonFinite(options.top ?? startY);\n\n  if (targetX === startX && targetY === startY) {\n    return;\n  }\n\n  const fallback = backupMethod(HTMLElement.prototype, \"scroll\", elementScrollXY);\n  const method = backupMethod(Object.getPrototypeOf(element), \"scroll\", fallback).bind(element);\n\n  if (options.behavior !== \"smooth\") {\n    method(targetX, targetY);\n    return;\n  }\n\n  const removeEventListener = () => {\n    window.removeEventListener(\"wheel\", cancelScroll);\n    window.removeEventListener(\"touchmove\", cancelScroll);\n  };\n\n  const context = { ...config,\n    timeStamp: now(),\n    startX,\n    startY,\n    targetX,\n    targetY,\n    rafId: 0,\n    method,\n    callback: removeEventListener\n  };\n\n  const cancelScroll = () => {\n    window.cancelAnimationFrame(context.rafId);\n    removeEventListener();\n  };\n\n  window.addEventListener(\"wheel\", cancelScroll, {\n    passive: true,\n    once: true\n  });\n  window.addEventListener(\"touchmove\", cancelScroll, {\n    passive: true,\n    once: true\n  });\n  step(context);\n};\n\nconst isWindow = obj => obj.window === obj;\n\nconst createScroll = scrollName => (target, scrollOptions, config) => {\n  const [element, scrollType] = isWindow(target) ? [scrollingElement(target.document.documentElement), \"Window\"] : [target, \"Element\"];\n  const options = scrollOptions ?? {};\n\n  if (!isObject(options)) {\n    throw new TypeError(failedExecute(scrollName, scrollType));\n  }\n\n  if (!checkBehavior(options.behavior)) {\n    throw new TypeError(failedExecuteInvalidEnumValue(scrollName, scrollType, options.behavior));\n  }\n\n  if (scrollName === \"scrollBy\") {\n    options.left = nonFinite(options.left) + element.scrollLeft;\n    options.top = nonFinite(options.top) + element.scrollTop;\n  }\n\n  scrollWithOptions(element, options, config);\n};\n\nexport const scroll = /* #__PURE__ */createScroll(\"scroll\");\nexport const scrollTo = /* #__PURE__ */createScroll(\"scrollTo\");\nexport const scrollBy = /* #__PURE__ */createScroll(\"scrollBy\");\nexport const elementScroll = scroll;\nexport const elementScrollTo = scrollTo;\nexport const elementScrollBy = scrollBy;\nexport const windowScroll = scroll;\nexport const windowScrollTo = scrollTo;\nexport const windowScrollBy = scrollBy;","map":{"version":3,"sources":["/home/kelvin/Desktop/KelvinPichinini.github.io/kelvin-portifolio/node_modules/seamless-scroll-polyfill/src/scroll.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n    backupMethod,\n    checkBehavior,\n    elementScrollXY,\n    failedExecute,\n    failedExecuteInvalidEnumValue,\n    isObject,\n    scrollingElement,\n} from \"./common.js\";\nimport type { IContext, IScrollConfig } from \"./scroll-step\";\nimport { now, step } from \"./scroll-step.js\";\n\n// https://drafts.csswg.org/cssom-view/#normalize-non-finite-values\nconst nonFinite = (value: unknown): number => {\n    if (!isFinite(value as number)) {\n        return 0;\n    }\n    return Number(value);\n};\n\nconst isConnected = (node: Node) => {\n    return (\n        node.isConnected ??\n        (!node.ownerDocument ||\n            // eslint-disable-next-line no-bitwise\n            !(node.ownerDocument.compareDocumentPosition(node) & /** DOCUMENT_POSITION_DISCONNECTED */ 1))\n    );\n};\n\nconst scrollWithOptions = (element: Element, options: Readonly<ScrollToOptions>, config?: IScrollConfig): void => {\n    if (!isConnected(element)) {\n        return;\n    }\n\n    const startX = element.scrollLeft;\n    const startY = element.scrollTop;\n\n    const targetX = nonFinite(options.left ?? startX);\n    const targetY = nonFinite(options.top ?? startY);\n\n    if (targetX === startX && targetY === startY) {\n        return;\n    }\n\n    const fallback = backupMethod(HTMLElement.prototype, \"scroll\", elementScrollXY);\n    const method = backupMethod(Object.getPrototypeOf(element) as Element, \"scroll\", fallback).bind(element);\n\n    if (options.behavior !== \"smooth\") {\n        method(targetX, targetY);\n        return;\n    }\n\n    const removeEventListener = () => {\n        window.removeEventListener(\"wheel\", cancelScroll);\n        window.removeEventListener(\"touchmove\", cancelScroll);\n    };\n\n    const context: IContext = {\n        ...config,\n        timeStamp: now(),\n        startX,\n        startY,\n        targetX,\n        targetY,\n        rafId: 0,\n        method,\n        callback: removeEventListener,\n    };\n\n    const cancelScroll = () => {\n        window.cancelAnimationFrame(context.rafId);\n        removeEventListener();\n    };\n\n    window.addEventListener(\"wheel\", cancelScroll, {\n        passive: true,\n        once: true,\n    });\n    window.addEventListener(\"touchmove\", cancelScroll, {\n        passive: true,\n        once: true,\n    });\n\n    step(context);\n};\n\nconst isWindow = (obj: unknown): obj is Window => (obj as Window).window === obj;\n\ninterface ScrollMethod<T extends Element | typeof window> {\n    (target: T, scrollOptions?: ScrollToOptions, config?: IScrollConfig): void;\n}\n\nconst createScroll =\n    <T extends Element | typeof window>(scrollName: \"scroll\" | \"scrollTo\" | \"scrollBy\"): ScrollMethod<T> =>\n    (target, scrollOptions, config): void => {\n        const [element, scrollType]: [Element, \"Window\" | \"Element\"] = isWindow(target)\n            ? [scrollingElement(target.document.documentElement), \"Window\"]\n            : [target, \"Element\"];\n\n        const options = scrollOptions ?? {};\n\n        if (!isObject(options)) {\n            throw new TypeError(failedExecute(scrollName, scrollType));\n        }\n\n        if (!checkBehavior(options.behavior)) {\n            throw new TypeError(failedExecuteInvalidEnumValue(scrollName, scrollType, options.behavior));\n        }\n\n        if (scrollName === \"scrollBy\") {\n            options.left = nonFinite(options.left) + element.scrollLeft;\n            options.top = nonFinite(options.top) + element.scrollTop;\n        }\n\n        scrollWithOptions(element, options, config);\n    };\n\nexport const scroll = /* #__PURE__ */ createScroll(\"scroll\");\nexport const scrollTo = /* #__PURE__ */ createScroll(\"scrollTo\");\nexport const scrollBy = /* #__PURE__ */ createScroll(\"scrollBy\");\n\nexport const elementScroll = scroll as ScrollMethod<Element>;\nexport const elementScrollTo = scrollTo as ScrollMethod<Element>;\nexport const elementScrollBy = scrollBy as ScrollMethod<Element>;\n\nexport const windowScroll = scroll as ScrollMethod<typeof window>;\nexport const windowScrollTo = scrollTo as ScrollMethod<typeof window>;\nexport const windowScrollBy = scrollBy as ScrollMethod<typeof window>;\n"]},"metadata":{},"sourceType":"module"}